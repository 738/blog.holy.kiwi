---
title: 🏊 React의 JSX에 대한 고찰
date: '2019-01-20'
spoiler: React의 JSX에 대해 고찰해본다.
---

## 😻 JSX가 대체 뭐지

```javascript
const element = <div>Hello world</div>;
```

React를 처음 접할 때, 보통의 자바스크립트와는 다른 문법을 볼 수 있다. 위 코드를 보면 변수에 `<div>Hello world</div>`를 할당하고 있는데 이는 문자열도 아니고, HTML도 아니다. 바로 JSX다. 

JSX는 JS + XML의 줄임말로써 자바스크립트 안에서 `<div>hello world</div>` 와 같이 HTML 같이 생긴 XML 문법을 사용할 수 있는 자바스크립트에서 확장된 파일형식이다. 나는 React의 JSX를 처음 보고 정말 참신하다고 생각했다. UI에 해당하는 HTML과 로직에 해당하는 Javascript를 나누지 않고 JSX라는 파일형식을 창조하여 컴포넌트 단위로 UI와 로직을 한 파일에 합쳤기 때문이다.

물론 [React에서 JSX를 사용하지 않을 수 있다.](https://reactjs.org/docs/react-without-jsx.html) 하지만, Javascript 코드 안에서 UI가 동작하는 것을 시각적으로 바로 볼 수 있기 때문에 많은 사람들이 사용한다.

다음은 React에서 JSX의 예제이다.
```javascript
import React from 'react';

class AwesomeComponent extends React.Component {
    render() {
        return (
            <MyButton color="blue" shadowSize={2}>
                Click Me
            </MyButton>
        );
    }
}

export default AwesomeComponent;
```

위 JSX 코드는 아래와 같이 컴파일된다.

```javascript
import React from 'react';

class AwesomeComponent extends React.Component {
    render() {
        return React.createElement(
            MyButton,
            { color: "blue", shadowSize: 2 },
            "Click Me"
        );
    }
}

export default AwesomeComponent;
```

[온라인 바벨 컴파일러](https://babeljs.io/repl/#?presets=react&code_lz=GYVwdgxgLglg9mABACwKYBt1wBQEpEDeAUIogE6pQhlIA8AJjAG4B8AEhlogO5xnr0AhLQD0jVgG4iAXyJA)에서 위 내용을 확인할 수 있다.

### JSX를 사용하려면 React가 Scope 안에 있어야 한다.
XML 형식의 코드는 `React.createElement` 함수를 호출하는 코드로 컴파일되기 때문에 React를 직접 쓰지 않더라도 React를 임포트해주어야 한다.

```javascript
import React from 'react';
import AwesomeButton from './AwesomeButton';

function BlueButton() {
  // return React.createElement(AwesomeButton, {color: 'blue'}, null);
  return <AwesomeButton color="blue" />;
}
```

### 최상위 부모 DOM은 하나여야 한다.
`React.createElement` 함수의 인자는 `React.createElement(component, props, ...children)`와 같다. 첫번째 인자에 component가 오고, 두번째에는 `Object` 형식의 props가 오고 세번째 인자는 가변인수로 children들이 온다. 여기서 중요하게 봐야할 점은 최상위 부모 DOM이다. 최상위에서 제일 처음 호출되는 `React.createElement`는 단 하나만이 호출되기 때문에 최상위 부모 DOM은 오로지 하나여야 한다.

```javascript
// 나쁜 예: 최상위 부모 DOM이 두 개이다. 컴파일할 수 없다.
function BadComponent() {
    return (
        <div>hello</div>
        <div>world</div>
    );
}

// 좋은 예: 최상위 부모 DOM이 한 개이다.
function GoodComponent() {
    return (
        <div>
            <div>hello</div>
            <div>world</div>
        </div>
    );
}

// 위 GoodComponent.jsx를 컴파일한 GoodComponent.js
function GoodComponent() {
    return React.createElement(
        "div",
        null,
        React.createElement(
            "div",
            null,
            "hello"
        ),
        React.createElement(
            "div",
            null,
            "world"
        )
    );
}
```

## 직접 정의한 컴포넌트는 대문자로 시작해야 한다.

React는 소문자로 시작하는 컴포넌트를 HTML tag로 인지하기 때문에 대문자로 시작하는 네이밍을 사용해야 한다. 이는 보통 클래스는 대문자로 시작하는게 관습이므로 신경쓰지는 않아도 될듯 싶다.

### 참고

- [Introducing JSX](https://reactjs.org/docs/introducing-jsx.html)
- [JSX In Depth](https://reactjs.org/docs/jsx-in-depth.html)
- [React Without JSX](https://reactjs.org/docs/react-without-jsx.html)